<!DOCTYPE html>
<!-- Built on Frappe. https://frappe.io/ -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>How to setup oauth?</title>
	<meta name="generator" content="frappe">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/hljs.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/octicons/octicons.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/docs.css">

    
	<link rel="shortcut icon"
		href="https://frappe.github.io/frappe/assets/img/favicon.png"
		type="image/x-icon">
	<link rel="icon"
		href="https://frappe.github.io/frappe/assets/img/favicon.png"
		type="image/x-icon">
    

		</head>
<body data-path="user/en/guides/integration/how_to_setup_oauth">
	<div class="main-section">
		<div>
					<nav class="navbar navbar-default navbar-main" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand ellipsis"
					 href="https://frappe.github.io/frappe//">
					<span><img class="brand-logo" src="https://frappe.github.io/frappe/assets/img/frappe-bird-white.png"> Frapp√© Framework</img></span>
				</a>
				<div class="dropdown">
					<button class="btn btn-default navbar-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						<i class="octicon octicon-three-bars"></i>
					</button>
					<ul class="dropdown-menu dropdown-menu-right">
<li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Tutorials</a></li><li data-label='API' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	API</a></li><li data-label='Forum' >
	<a href="https://discuss.erpnext.com"
		
		>
	Forum</a></li>

<li class="divider"></li>

<!-- post login tools -->

</ul>
				</div>
			</div>
			<div class="hidden-xs">
				
				<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Tutorials</a></li><li data-label='API' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	API</a></li><li data-label='Forum' >
	<a href="https://discuss.erpnext.com"
		
		>
	Forum</a></li>
	
	
	<!-- post login tools -->

</ul>
				
			</div>
		</div>
	</nav><div class="hero-and-content">
                <div data-html-block="hero"></div>
                <div class="container" data-html-block="content">
                
<div class="page-container" id="page-user/en/guides/integration/how_to_setup_oauth" data-path="{{ pathname }}"
	>
	<div class="row ">
		
		<div class=" page-content col-sm-12 ">
			<div class="page-content-wrapper">
				<div class="row page-head">
					<div class='col-sm-12 hidden-xs'>
						
						<div class="page-breadcrumbs">
							
							
<ul class="breadcrumb">
	<li>
		<span class="fa fa-angle-left"></span>
		<a href="https://frappe.github.io/frappe//user/en/guides/integration">
		Integrations</a>
	</li>
	
</ul>

							
						</div>
						
					</div>
					<div class="col-sm-8 col-xs-6">
						
					</div>
					<div class="col-sm-4 col-xs-6">
						

						
					</div>
				</div>
			</div>
			<div class="page_content">
<h1>How to setup oauth?</h1>

<p><a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0</a> provider based on <a href="https://github.com/idan/oauthlib">oauthlib</a> is built into frappe. Third party apps can now access resources of users based on Frappe Role and User permission system. To setup an app to access</p>

<h2>OAuth defines four roles</h2>

<h4>resource owner</h4>

<p>An entity capable of granting access to a protected resource. When the resource owner is a person, it is referred to as an end-user.</p>

<h4>resource server</h4>

<p>The server hosting the protected resources, capable of accepting and responding to protected resource requests using access tokens.</p>

<h4>client</h4>

<p>An application making protected resource requests on behalf of the resource owner and with its authorization.  The term "client" does not imply any particular implementation characteristics (e.g.,
whether the application executes on a server, a desktop, or other devices).</p>

<h4>authorization server</h4>

<p>The server issuing access tokens to the client after successfully authenticating the resource owner and obtaining authorization.</p>

<h2>Setup OAuth Provider</h2>

<p>System Managers can setup behavior of confirmation message as <code>Force</code> or <code>Auto</code> in OAuth Provider Settings.
If Force is selected the system will always ask for user's confirmation. If Auto is selected system asks for the confirmation only if there are no active tokens for the user.</p>

<p>Go to </p>

<blockquote>
  <p>Setup &gt; Integrations &gt; OAuth Provider Settings</p>
</blockquote>

<p><img class="screenshot" src="https://frappe.github.io/frappe/assets/img/oauth_provider_settings.png"></p>

<h3>Add Primary Server</h3>

<p>This is the main server hosting all the users. e.g. <code>https://frappe.io</code>. To setup this as the main server, go to <em>Setup</em> &gt; <em>Integrations</em> &gt; <em>Social Login Keys</em> and enter <code>https://frappe.io</code> in the field  <code>Frappe Server URL</code>. This URL repeats in all other Frappe servers who connect to this server to authenticate. Effectively, this is the main Identity Provider (IDP). </p>

<p>Under this server add as many <code>OAuth Client</code>(s) as required.</p>

<h2>Add a Client App</h2>

<p>As a System Manager go to  </p>

<blockquote>
  <p>Setup &gt; Integrations &gt; OAuth Client</p>
</blockquote>

<p><img class="screenshot" src="https://frappe.github.io/frappe/assets/img/oauth2_client_app.png"></p>

<p>To add a client fill in the following details</p>

<ol>
<li><strong>App Name</strong> : Enter App Name e.g. CAVS</li>
<li><strong>Skip Authorization</strong> : If this is checked, during authentication there won't be me any confirmation message</li>
<li><strong>Scopes</strong> : List of scopes shown to user along with confirmation message. scopes are separated by semicolon ';'</li>
<li><strong>Redirect URIs</strong> : List of Redirect URIs separated by semicolon ';'</li>
<li><strong>Default Redirect URIs</strong> : Default Redirect URI from list of Redirect URIs</li>
<li><strong>Grant Type</strong>: select <code>Authorization Code</code></li>
<li><strong>Response Type</strong>: select <code>Code</code></li>
</ol>

</div>
		</div>
	</div>
</div>

				
<div class="page-container">
	<div class="page-content">
	<div class="edit-container text-center">
		<i class="fa fa-smile"></i>
		<a class="text-muted edit" href="https://github.com/frappe/frappe/blob/develop/frappe/docs/user/en/guides/integration/how_to_setup_oauth.md">
			Improve this page
		</a>
	</div>
	</div>
</div>
                </div>
            </div>
			<footer class="docs-footer">
				<div class="container"><div class="built-with-frappe text-center">
                    <img class="frappe-bird" src="https://frappe.github.io/frappe/assets/img/frappe-bird-grey.svg">
                    <h3>By Frappe Technologies</h3>
                </div>
                <div class="text-center">
                    <ul class="list-unstyled">
                        <li>
                            <a href="https://github.com/frappe/frappe">
                            Source</a>
                        </li>
                        <li>
                            <a href="https://github.com/frappe/frappe/issues">
                            Issues</a>
                        </li>
                        <li>
                            <a href="https://frappe.github.io/frappe/license.html">
                            License</a>
                        </li>
                        <li>
                            <a href="https://discuss.erpnext.com">
                            Forum</a>
                        </li>
                        <li>
                            <a href="https://community.erpnext.com/apps">
                            Frappe Apps</a>
                        </li>
                    </ul>
                </div>

            </div>
			</footer>
		</div>
	</div>

	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/highlight.pack.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/docs.js"></script>

	<!-- js should be loaded in body! -->
	<script>
        window.docs_base_url = "https://frappe.github.io/frappe";
    </script>

	
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-8911157-23', 'auto');
	  ga('send', 'pageview');

	</script>
	
	<!-- csrf_token --></body>
</html>