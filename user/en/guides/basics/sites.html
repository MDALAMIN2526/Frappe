<!DOCTYPE html>
<!-- Built on Frappe. https://frappe.io/ -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sites</title>
	<meta name="generator" content="frappe">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/hljs.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/octicons/octicons.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/docs.css">

    
	<link rel="shortcut icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
	<link rel="icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
    

		</head>
<body data-path="user/en/guides/basics/sites">
	<div class="main-section">
		<div>
				<header>
	<nav class="navbar navbar-default navbar-main" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand ellipsis"
					 href="https://frappe.github.io/frappe//">
					<span>Frappe Framework</span>
				</a>
				<div class="dropdown">
					<button class="btn btn-default navbar-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						<i class="octicon octicon-three-bars"></i>
					</button>
					<ul class="dropdown-menu dropdown-menu-right">
<li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Developer Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Developer Tutorials</a></li><li data-label='API Documentation' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	API Documentation</a></li>

<li class="divider"></li>
<!-- post login tools -->

</ul>
				</div>
			</div>
			<div class="hidden-xs">
				
				<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Developer Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Developer Tutorials</a></li><li data-label='API Documentation' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	API Documentation</a></li>
	
	<!-- post login tools -->

</ul>
				
			</div>
		</div>
	</nav>
</header><div class="hero-and-content">
                <div data-html-block="hero"></div>
                <div class="container" data-html-block="content">
                
<div class="page-container" id="page-user/en/guides/basics/sites" data-path="{{ pathname }}"
	>
			<div class="row ">
				
				<div class=" page-content col-sm-12 ">
					<div class="page-content-wrapper">
						<div class="row page-head">
							<div class='col-sm-12'>
								
								<div class="page-breadcrumbs">
									
									
<ul class="breadcrumb">
	<li>
		<span class="icon icon-angle-left"></span>
		<a href="https://frappe.github.io/frappe//user/en/guides/basics">
		Basics</a>
	</li>
	
</ul>

									
								</div>
								
							</div>
							<div class="col-sm-8 col-xs-6">
								
							</div>
							<div class="col-sm-4 col-xs-6">
								

								
							</div>
						</div>
					</div>
					<div class="page_content">
<h1>Sites</h1>

<h2>Sites Directory</h2>

<p>Frappe is a multitenant platform and each tenant is called a site. Sites exist
in a directory called <code>sites_dir</code>, assumed as the current working directory when
running a frappe command or other services like Celery worker or a WSGI server.</p>

<p>You can set <code>sites_dir</code> with an environment variable <code>SITES_DIR</code> or pass
<code>--sites_dir</code> option to the frappe command.</p>

<p>Apart from the sites, the <code>sites_dir</code> should contain the following.</p>

<h4>apps.txt</h4>

<p><code>apps.txt</code> contain a list of Python packages to treat as Frappe apps. Every
frappe app that you intend to use in you site should have an entry in this file.
Also, they should be in the <code>PYTHONPATH</code>. For more information, refer
<a href="/help/apps">Frappe Apps</a>.</p>

<h4>common_site_config.json</h4>

<p><code>common_site_config.json</code> is an optional file. Configuration common to all sites
can be put in this file.</p>

<h4>assets</h4>

<p>Assets contain files that are required to be served for the browser client.
These generally include *.js, *.css, *.png files. This directory is auto
generated using the <code>bench build</code> command.</p>

<h4>languages.txt</h4>

<p><code>languages.txt</code> is an autogenerated file which maps every language to it's code.</p>

<h2>Site</h2>

<p>A site is a directory in <code>sites_dir</code> which represents a tenant in Frappe Platform.</p>

<h3>Directory Structure</h3>

<pre><code>site
├── locks
├── private
│   └── backups
├── public
│   └── files
│       └── testfile.txt
└── site_config.json
</code></pre>

<ul>
<li><p><code>locks</code> directory is used by the scheduler to synchronize various jobs using
the <a href="http://en.wikipedia.org/wiki/File_locking">file locking concept</a>.</p></li>
<li><p><code>private</code> directory contains files that require authentication to access.
Presently, it is limited only to backups.</p></li>
<li><p><code>public</code> directory contains files that can directly served. In the above
example, <code>testfile.txt</code> can be accessed by the URL,
 http://site/files/testfile.txt</p></li>
<li><p><code>site_config.json</code> contains site specific configuration</p></li>
</ul>

<h3>Site Config</h3>

<p><a href="/docs/user-guide/site_config.md">See configuration options for <code>site_config.json</code></a></p>

<h3>Site Resolution</h3>

<p>While responding to an HTTP request, a site is automatically selected based on,</p>

<ul>
<li><code>Host</code> header in the HTTP request matches a site</li>
<li><code>X-Frappe-Site-Name</code> header in the HTTP request matches a site</li>
</ul>

<p>It is also possible to force the development server to serve a specific site by
starting it with the following command.
    <code>bench --site SITENAME serve</code></p>

<h3>Adding a new site</h3>

<p><code>bench new-site SITENAME</code></p>

</div>
				</div>
			</div>
</div>

				
<div class="page-container">
	<div class="page-content">
	<div class="edit-container text-center">
		<i class="icon icon-smile"></i>
		<a class="text-muted edit" href="https://github.com/frappe/frappe/blob/develop/frappe/docs/user/en/guides/basics/sites.md">
			Improve this page
		</a>
	</div>
	</div>
</div>
                </div>
            </div>
			<footer class="docs-footer">
				<div class="container"><div class="built-with-frappe text-center">
                    <img class="frappe-bird" src="https://frappe.github.io/frappe/assets/img/frappe-bird-grey.svg">
                    <h3>By Frappe Technologies</h3>
                </div>
                <div class="text-center">
                    <ul class="list-unstyled">
                        <li>
                            <a href="https://github.com/frappe/frappe">
                            Source</a>
                        </li>
                        <li>
                            <a href="https://github.com/frappe/frappe/issues">
                            Issues</a>
                        </li>
                        <li>
                            <a href="https://frappe.github.io/frappe/license.html">
                            License</a>
                        </li>
                        <li>
                            <a href="https://discuss.erpnext.com">
                            Forum</a>
                        </li>
                        <li>
                            <a href="https://frappe.io/apps">
                            Frappe Apps</a>
                        </li>
                    </ul>
                </div>

            </div>
			</footer>
		</div>
	</div>

	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/highlight.pack.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/docs.js"></script>

	<!-- js should be loaded in body! -->
	<script>
        window.docs_base_url = "https://frappe.github.io/frappe";
    </script>

	<!-- csrf_token --></body>
</html>